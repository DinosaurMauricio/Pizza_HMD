version: '3.1'
intents:
- init_request
- pizza_order_change
- pizza_order_start
- pizza_order_confirm_negative
- pizza_order_confirm_positive
- order_delivery
- order_delivery_address
- order_take_home
- out_of_scope
- response_name_phone
- response_negative
- welcome_greet
- complete_order_confirm
- ask_for_side_dish_options
- order_side_dish
- repeat_side_dish_menu
- cancel_side_dish
- remove_side_dish
- promotions_faq
- details_on_promotion
- duo_party_faq
- veggie_feast_faq
#- order_promotion
- order_promotion_vague
- promotion_order_confirm
- pizza_promotion_order
- submit_promotion_confirm_positive
- submit_promotion_confirm_negative
- stop_promotion_order
- confirm_stop_promotion_order
- change_item_promotion_specific
- remove_promotion_from_order
- promotion_order_accept_recommended

responses:
  utter_out_of_scope:
  - text: Sorry, I can't handle that request.
  utter_wrong_pizza_type:
  - text: Sorry, we don't have that pizza type. Please choose another one.
  utter_wrong_pizza_size:
  - text: Sorry, we don't have that size of pizza. We have small, medium and large.
  utter_welcome_greet:
  - text: Hello There! Welcome to Pizzbot. How can I help you?
  utter_init_request:
  - text: Okay. In today's menu, we have Funghi, Hawaii, Margherita, Pepperoni, Vegetarian, all available in sizes Small, Medium or Large. We also have some promotions available! What would you like to have?
  utter_ask_pizza_order_form_pizza_size:
  - text: What size of pizza do you want?
  utter_ask_pizza_order_form_pizza_type:
  - text: What type of pizza do you want?
  utter_ask_pizza_order_form_pizza_amount:
  - text: How many pizzas do you want?
  utter_pizza_order_confirm_negative:
  - text: What would you like to change?
  utter_pizza_order_confirm_positive:
  - text: Great, we added your pizza to the order. Anything else?
  utter_pizza_order_change:
  - text: So you want {pizza_amount} {pizza_type} pizzas in {pizza_size} instead. Is that correct?
  utter_order_takeout:
  - text: Thank you {client_name}, we will contact you at {phone_number}.  Do you prefer takeaway or home delivery?
  utter_name_phone:
  - text: To finish your order, what is your name and phone number?
  utter_ask_client_name:
  - text: I didn't catch your name. Can you please repeat it?
  - text: Can you repeat your name?
  utter_ask_phone_number:
  - text: Sorry, I didn't get your phone number. Can you please repeat it?
  - text: I didn't catch your number, could you please repeat your phone number?
  utter_order_complete:
  - text: Here is your order number {order_number}. Your order will be ready in 15 minutes. Thanks for the opportunity to serve you
  utter_delivery_address:
  - text: Please provide us with your home address
  utter_default:
  - text: Sorry, I didn’t understand that. Can you please repeat it?
  utter_summarize_pizza_order:
  - text: Okay Great. Your order is {pizza_amount} {pizza_type} pizzas in {pizza_size} size. Can you confirm please?
  utter_summarize_complete_order:
  - text: Your complete order is {total_order}. Can you confirm please?
  utter_ask_for_side_dish_options:
  - text: We have the following side dishes available in the menu, French Fries, Chicken Wings, Bacon Jalapeño, Caprese Salad. What would you like to have?
  utter_repeat_side_dish_menu:
  - text: We have French Fries, Chicken Wings, Bacon Jalapeño, Caprese Salad. What would you like to have?
  utter_cancel_side_dish:
  - text: Sure, we won't add any side dish to your order, can you confirm your order?
  utter_side_dishes_order:
  - text: You have {total_side_dishes} as side dishes in your order. Anything else?

  utter_duo_party_order_start:
  - text: Great choice, let's start your Duo Party order. What would you like to have on your first pizza?

  utter_veggie_feast_order_start:
  - text: Great choice, let's start your Veggie Feast order. What would you like to have on your first side dish?

  utter_promotions_faq/ask_general_pizza_promotions:
  - text: We currently have two great promotions Veggie Feast and Duo Party! Would you like more details on any specific offer?
  utter_promotions_faq/ask_promotions_takeout:
  - text: Our promotions apply for both home delivery and take out. Would you like more details on any specific offer?
  utter_promotions_faq/ask_how_to_apply_promotion:
  - text: Tell me what promotion you want! We we won't be able to apply your promotion if you start a pizza order. Which promotion would you like to order? Do you need more details?
  utter_promotions_faq/ask_promotions_on_side_dishes:
  - text: Our current promotions include side dishes and pizzas! Would you like more details on our promotions?
  utter_promotions_faq/details_on_both_promotions:
  - text: With Duo Party promotion you can buy 2 large pizzas and get 1 side dish for free of your choice and with Veggie Feast promotion you can buy 1 large vegetarian pizza and get 2 vegetarian side dishes of your choice for free
  utter_promotions_faq/ask_how_many_promotions_can_take:
  - text: You are limited to two promotions per costumer.
  utter_promotions_faq/ask_reinsert_promotion:
  - text: I can't reinsert a promotion once removed, but certenly I can help you to order a new one! Which promotion would you like to order?
  utter_promotions_faq/remove_promotion:
  - text: I can take care of that, which promotion would you like to remove?
  - text: Sure, which promotion would you like to remove?
  utter_promotions_faq/ask_ask_multiple_promotions:
  - text: You can order multiple promotions, but you have to order them one by one. Which promotion would you like to order?
  - text: You can only order one promotion at a time. Which promotion would you like to order?
  
  ## specific promotion faq
  ##duo party

  utter_specific_duo_party_promotion:
  - text: With Duo Party promotion you can buy 2 large pizzas and get 1 side dish for free of your choice.

#
  # veggie_ feast
  utter_specific_veggie_feast_promotion:
  - text: With Veggie Feast promotion you can buy 1 large vegetarian pizza and get 2 vegetarian side dishes of your choice for free. Would you like to order it?
  utter_veggie_feast_faq/ask_on_available_pizzas:
  - text: Only vegetarian applies for this promotion. Want to order a Veggie Feast?
  utter_veggie_feast_faq/ask_available_side_dishes:
  - text: You can French Fries or Caprese Salad on this promotion. Want to order a Veggie Feast?
  utter_veggie_feast_faq/ask_mix_pizzas:
  - text: You can only get vegetarian on this promotion! Want to order a Veggie Feast?


  utter_ask_veggie_feast_form_first_side_dish_promotion:
  - text: "What side dish would you like to accompany your {promotion_type}? We suggest pairing it with {recommend_side_dish} for a delightful combination."
  - text: "Consider adding {recommend_side_dish} to enhance your {promotion_type} experience. What's your preference for the first side dish?"

  utter_ask_veggie_feast_form_second_side_dish_promotion:
  - text: "Why not include {recommend_side_dish} as well for second side dish in your {promotion_type}? What's your choice for the second side dish?"
  - text: "For your {promotion_type}, a fantastic combination is {recommend_side_dish} with {first_side_dish_promotion}. What second side dish would you like to add?"

#
  ## vague promotion faq
  utter_vague_promotion:
  - text: Sorry, I couldn't understand, could you please provide which promotion you are interested in? We currently offer Duo Party and Veggie Feast.

  # order promotion
  utter_vague_order_promotion:
  - text: We have two promotions available, Duo Party and Veggie Feast. Which one would you like to order?
  utter_recommend_duo_party_promotion:
  - text: I can you recommend getting the Duo Party promotion, it includes 2 medium pizzas and 1 side dish of your choice. Would you like to order it?
  utter_recommend_veggie_feast_promotion:
  - text: If you would like a vegetarian meal, I would recommend getting the Veggie Feast promotion, Would you like to order it?

  utter_summarize_promotion_order:
  - text: We are almost done, could you please only confirm your promotion {total_promotion_order}?
  - text: Your promotion order is almost complete, can you only confirm your promotion {total_promotion_order}?
  - text: I just need you to confirm your promotion {total_promotion_order}!
  - text: To finish your promotion order, can you please confirm your promotion {total_promotion_order}?

  utter_recommend_other_items:
  - text: Perfect, your {promotion_type} was added to your order. Would you like to order something else?

  ### duo party promotion faq
  
  utter_ask_duo_party_form_first_pizza_promotion:
  - text: I don't think i got your first pizza, in {promotion_type} for starters I would recommend you to try our {recommend_pizza} Pizza. What would you like to take on your first pizza?
  - text: What would you like to take on your first pizza in {promotion_type}? You might like our {recommend_pizza} Pizza.
  - text: I missed your first pizza, for {promotion_type} I can recommend {recommend_pizza} for starters. What would you like for your first pizza?
  - text: For your first pizza in your {promotion_type}, could you please tell me which one you want? One of our best pizzas is {recommend_pizza}!
  utter_ask_duo_party_form_second_pizza_promotion:
  - text: I couldn't catch your second pizza you want to have, which one will you take? You might want to try {recommend_pizza}!
  - text: Maybe i missed your second pizza for your {promotion_type}, could you repeat it please? I think you would love {recommend_pizza}!
  - text: You might love to try {recommend_pizza} as your second pizza, which one will you take in your {promotion_type}?
  utter_ask_duo_party_form_first_side_dish_promotion:
  - text: Which side dish you want in your {promotion_type}? We think {first_pizza_promotion} would go great with your {recommend_side_dish} pizza.
  - text: How about {recommend_side_dish} to go along with your {first_pizza_promotion} pizza. Which side dish you want for your {promotion_type}?
  utter_ask_duo_party_form_second_side_dish_promotion:
  - text: With {first_side_dish_promotion} how about you add {second_side_dish_promotion} to your {promotion_type}. Which second side dish would you like?
  - text: An usual combination for {promotion_type} is {second_side_dish_promotion} with {recommend_side_dish}. Which second side dish would you like?
  
  utter_duo_party_faq/ask_on_available_pizzas:
  - text: You can get any medium Pizza you want for this promotion, it includes Funghi, Pepperoni, Vegetarian, Margherita and Hawaii.
  utter_duo_party_faq/ask_available_side_dishes:
  - text: You can get any Side Dish you want for this promotion, it includes French Fries, Chicken Wings, Bacon Jalapeño and Caprese Salad.
  utter_duo_party_faq/ask_mix_pizzas:
  - text: Both pizzas can be of different type, it doesn't have to be the same one!
  utter_duo_party_faq/ask_third_pizza:
  - text: Sorry, you can only get 2 pizzas on this promotion.
  utter_duo_party_faq/ask_change_pizza_for_side_dish:
  - text: Sorry, you can only get 1 side dish on this promotion.
  utter_duo_party_faq/ask_different_size_pizza:
  - text: The promotion just applies on medium pizzas, sorry!
  utter_duo_party_faq/ask_change_promotion_type:
  - text: To order a different promotion, you have to finish or cancel your current promotion order. Would you like to cancel your current promotion order?

  ### Change item in promotion
  utter_promotion_change:
  - text: No problem, what would you like to change on your promotion?
  utter_tries_to_change_more_than_one_item:
  - text: Sorry, you can only change one item at a time. What would you like to change on your promotion?
  utter_promotion_change_summarize:
  - text: Okay, I changed {total_promotion_order} on your pomotion. Anything else you want to change?
  - text: Your promotions now {total_promotion_order}. Want to change something else?
  - text: Your promotion now includes {total_promotion_order}. Is there another change you would like to make?
  - text: Now your deal includes {total_promotion_order}. Do you need another change?

  ### Cancel promotion
  utter_ask_continue_with_promotion:
  - text: Do you want to stop ordering this promotion? If I heard wrong, plase tell me what do you want on your {promotion_type} promotion.

  utter_promotion_canceled:
  - text: No problem, we will cancel your promotion order. Can I help you to order one of our pizzas or other promotions?

  ### Removal of promotion
  utter_no_promotions_to_remove:
  - text: Sorry, you don't have any promotions to remove. Would you like to order a promotion?
  - text: Your order doesn't have any promotions to remove. Can I help you to order one of our promotions?

  # I don't like this but oh well
  utter_remove_wrong_promotion:
  - text: I can't seem to find that order, can you repeat did you mean the first or second promotion?
  - text: Sorry, I cannot find this order, could you please repeat if you want to remove the first or second promotion?

  utter_promotion_removed_complete:
  - text: What would you like to take from our pizzas or other promotions? 
  - text: I can still help you ordering any of our pizzas or other promotions! If so, what would you like?

  utter_promotion_limit_reached:
  - text: Sorry, you can only order two promotions per costumer. Would you like to remove one of your promotions? or maybe order pizza without a promotion?

  ### Empty cart
  utter_empty_cart:
  - text: You have not ordered anything yet, how about you ask for our promotions or pizza?

actions:
- utter_promotion_limit_reached
- utter_recommend_other_items
- utter_promotion_canceled
- utter_ask_continue_with_promotion
- utter_promotion_change
- utter_tries_to_change_more_than_one_item
- utter_promotion_change_summarize
- utter_summarize_promotion_order
- utter_delivery_address
- utter_order_complete
- utter_welcome_greet
- utter_init_request
#- utter_ask_pizza_order_form_pizza_size
#- utter_ask_pizza_order_form_pizza_type
#- utter_ask_pizza_order_form_pizza_amount
- utter_pizza_order_confirm_negative
- utter_pizza_order_confirm_positive
- utter_pizza_order_change
- utter_order_takeout
- utter_name_phone
- utter_default
- utter_ask_for_side_dish_options
- utter_repeat_side_dish_menu
- utter_cancel_side_dish
- utter_side_dishes_order
- utter_summarize_complete_order
#- utter_specific_veggie_feast_promotion
#- utter_specific_duo_party_promotion
#- utter_vague_promotion
- action_recommend_promotion
- action_change_order
- action_pizza_order_add
- action_reset_pizza_form
- action_order_number
- action_total_order
- action_add_side_dish
- action_remove_all_side_dishes
- action_remove_side_dish
- action_handle_details_on_promotion
- action_recommend_items
- action_promotion_total_order
- action_promotion_reset
- action_change_promotion_item
- action_promotion_add
- action_remove_promotion
- action_validate_promotion_posibility
- action_activate_recommend_promotion_form
- validate_duo_party_form
- validate_pizza_order_form
entities:
- pizza_type
- pizza_size
- pizza_amount
- pizzas_complete_order
- client_name
- phone_number
- order_number
- side_dish
- side_dishes
- total_side_dishes
- promotion_type
- is_vegetarian
- is_reunion
- first_side_dish_promotion
- second_side_dish_promotion
- first_pizza_promotion
- second_pizza_promotion
- recommend_pizza
- recommend_side_dish
- total_promotion_order
- complete_promotion_orders
- promotion_numbering
- is_max_promotion_reached
slots:
  is_max_promotion_reached:
    type: bool
    initial_value: false  
    mappings:
    - type: custom
  promotion_numbering:
    type: any
    mappings:
    - type: from_entity
      entity: promotion_numbering
      values:
        - first
        - second
  # this is to store ALL the promotions ordered
  complete_promotion_orders:
    type: list
    mappings:
    - type: from_entity
      entity: complete_promotion_orders
  # this is to store the items when ordering a promotion
  total_promotion_order:
    type: any
    mappings:
    - type: from_entity
      entity: total_promotion_order
  promotion_type:
    type: any
    mappings: 
    - type: from_entity
      entity: promotion_type
      values:
        - Duo Party
        - Veggie Feast
  pizzas_complete_order:
    type: list
    mappings:
    - type: from_entity
      entity: pizzas_complete_order
  pizza_amount:
    type: any
    mappings:
    - type: from_entity
      entity: pizza_amount
  pizza_size:
    type: any
    mappings:
    - type: from_entity
      entity: pizza_size
  pizza_type:
    type: any
    mappings:
    - type: from_entity
      entity: pizza_type
  client_name:
    type: any
    mappings:
    - type: from_entity
      entity: client_name
  phone_number:
    type: any
    mappings:
    - type: from_entity
      entity: phone_number
  order_number:
    type: any
    mappings:
    - type: custom
  total_order:
    type: any
    mappings:
    - type: custom
  side_dish:
    type: any
    mappings:
    - type: from_entity
      entity: side_dish
  side_dishes:
    type: list
    mappings:
    - type: from_entity
      entity: side_dishes
  total_side_dishes:
    type: any
    mappings:
    - type: custom
  is_vegetarian:
    type: bool
    mappings:
    - type: from_entity
      entity: is_vegetarian
  is_reunion:
    type: bool
    mappings:
    - type: from_entity
      entity: is_reunion
  first_side_dish_promotion:
    type: any
    mappings:
    - type: from_entity
      entity: first_side_dish_promotion
  second_side_dish_promotion:
    type: any
    mappings:
    - type: from_entity
      entity: second_side_dish_promotion
  first_pizza_promotion:
    type: any
    mappings:
    - type: from_entity
      entity: first_pizza_promotion
  second_pizza_promotion:
    type: any
    mappings:
    - type: from_entity
      entity: second_pizza_promotion
  recommend_pizza:
    type: any
    mappings:
    - type: from_entity
      entity: recommend_pizza
  recommend_side_dish:
    type: any
    mappings:
    - type: from_entity
      entity: recommend_side_dish

forms:
  pizza_order_form:
    ignored_intents:
      - order_promotion_vague
#      - order_promotion
    required_slots:
    - pizza_amount
    - pizza_type
    - pizza_size
  costumer_details_form:
    required_slots:
    - client_name
    - phone_number
  duo_party_form:
    ignored_intents:
      - pizza_order_start
    required_slots:
    - first_pizza_promotion
    - second_pizza_promotion
    - first_side_dish_promotion
  veggie_feast_form:
    ignored_intents:
      - pizza_order_start
    required_slots:
    - first_pizza_promotion
    - first_side_dish_promotion
    - second_side_dish_promotion
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

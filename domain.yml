version: '3.1'
intents:
- cancel_item_change
- init_pizza_question
- init_request
- item_change
- item_start_generic
- order_confirm_negative
- order_confirm_positive
- order_delivery
- order_delivery_address
- order_take_home
- out_of_scope
- response_name_phone
- response_negative
- welcome_greet
- ask_for_side_dish_options
- order_side_dish
- repeat_side_dish_menu
- cancel_side_dish
- remove_side_dish

responses:
  utter_out_of_scope:
  - text: Sorry, I can't handle that request.
  utter_welcome_greet:
  - text: Hello There! Welcome to Pizzbot. How can I help you?
  utter_init_request:
  - text: Okay. In today's menu, we have Funghi, Hawaii, Margherita, Pepperoni, Vegetarian, all available in sizes Small, Medium or Large . What would you like to have?
  utter_init_pizza_question:
  - text: For pizza without meat we have.... For pizza without cheese we have. Sizes available are Small, Medium and Large. What would you love to have?
  utter_ask_pizza_size:
  - text: What size of pizza do you want?
  utter_ask_pizza_type:
  - text: What type of pizza do you want?
  utter_ask_pizza_amount:
  - text: How many pizzas do you want?
  utter_order_confirm_negative:
  - text: What would you like to change?
  utter_order_confirm_positive:
  - text: Great. Anything else?
  utter_item_change:
  - text: Ok! So you want {pizza_amount} {pizza_type} pizzas in {pizza_size}. Is that correct?
  utter_order_takeout:
  - text: Thank you {client_name}, we will contact you at {phone_number}.  Do you prefer takeaway or home delivery?
  utter_name_phone:
  - text: Here is your total order, {total_order}. what is your name and phone number?
  utter_order_complete:
  - text: Here is your order number {order_number}. Your order will be ready in 15 minutes. Thanks for the opportunity to serve you
  utter_delivery_address:
  - text: Please provide us with your home/office address
  utter_default:
  - text: Sorry, I didn’t understand that. Can you please retype it?
  utter_summarize_order:
  - text: Okay Great. Your order is {pizza_amount} {pizza_type} pizzas in {pizza_size} size. Can you confirm please?
  utter_cancel_item_change:
  - text: Sure, we won't make any changes to your pizza order, can you confirm your order?
  utter_ask_for_side_dish_options:
  - text: We have the following side dishes available in the menu, French Fries, Chicken Wings, Bacon Jalapeño, Caprese Salad. What would you like to have?
  utter_repeat_side_dish_menu:
  - text: We have French Fries, Chicken Wings, Bacon Jalapeño, Caprese Salad. What would you like to have?
  utter_cancel_side_dish:
  - text: Sure, we won't add any side dish to your order, can you confirm your order?
  utter_side_dishes_order:
  - text: You have {total_side_dishes} as side dishes in your order. Anything else?


actions:
- utter_delivery_address
- utter_order_complete
- utter_welcome_greet
- utter_init_request
- utter_ask_pizza_size
- utter_ask_pizza_type
- utter_ask_pizza_amount
- utter_init_pizza_question
- utter_order_confirm_negative
- utter_order_confirm_positive
- utter_item_change
- utter_order_takeout
- utter_name_phone
- utter_default
- utter_summarize_order
- utter_cancel_item_change
- utter_ask_for_side_dish_options
- utter_repeat_side_dish_menu
- utter_cancel_side_dish
- utter_side_dishes_order
- action_change_order
- action_pizza_order_add
- action_reset_pizza_form
- action_order_number
- action_total_order
- action_add_side_dish
- action_remove_all_side_dishes
- action_remove_side_dish
entities:
- toppings
- pizza_type
- pizza_size
- pizza_amount
- pizzas_complete_order
- client_name
- phone_number
- order_number
- side_dish
- side_dishes
- total_side_dishes
slots:
  toppings:
    type: any
    mappings:
    - type: from_entity
      entity: toppings
  pizzas_complete_order:
    type: list
    mappings:
    - type: from_entity
      entity: pizzas_complete_order
  pizza_amount:
    type: any
    mappings:
    - type: from_entity
      entity: pizza_amount
  pizza_size:
    type: any
    mappings:
    - type: from_entity
      entity: pizza_size
  pizza_type:
    type: any
    mappings:
    - type: from_entity
      entity: pizza_type
  client_name:
    type: any
    mappings:
    - type: from_entity
      entity: client_name
  phone_number:
    type: any
    mappings:
    - type: from_entity
      entity: phone_number
  order_number:
    type: any
    mappings:
    - type: custom
  total_order:
    type: any
    mappings:
    - type: custom
  side_dish:
    type: any
    mappings:
    - type: from_entity
      entity: side_dish
  side_dishes:
    type: list
    mappings:
    - type: from_entity
      entity: side_dishes
  total_side_dishes:
    type: any
    mappings:
    - type: custom

forms:
  pizza_order_form:
    required_slots:
    - pizza_amount
    - pizza_type
    - pizza_size
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
